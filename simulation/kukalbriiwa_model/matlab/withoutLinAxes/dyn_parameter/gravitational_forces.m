function tmpreturn = gravitational_forces(q, param)
  m = [0 0 0 0 0 0 0;];
  t1 = q(6);
  t2 = cos(t1);
  t3 = q(7);
  t4 = cos(t3);
  t6 = sin(t3);
  t7 = param.MY7 * t6;
  t8 = -param.MX7 * t4 + param.MX6 + t7;
  t9 = t8 * t2;
  t10 = sin(t1);
  t11 = t10 * param.MYR6;
  t12 = t9 - t11 + param.MX5;
  t13 = q(5);
  t14 = cos(t13);
  t15 = t14 * t12;
  t16 = sin(t13);
  t17 = param.MX7 * t6;
  t19 = param.MY7 * t4 - param.MYR5 + t17;
  t22 = q(4);
  t23 = cos(t22);
  t25 = t2 * param.MYR6;
  t27 = t10 * t8 + param.MYR4 + t25;
  t28 = sin(t22);
  t30 = t23 * (t16 * t19 - param.MX4 + t15) + t28 * t27 - param.MX3;
  t31 = q(3);
  t32 = cos(t31);
  t35 = -t8;
  t37 = t2 * t35 - param.MX5 + t11;
  t39 = t14 * t19 + t16 * t37 + param.MYR3;
  t40 = sin(t31);
  t43 = q(2);
  t44 = cos(t43);
  t46 = sin(t43);
  t47 = t46 * t27;
  t49 = t46 * t28;
  t51 = -t19;
  t52 = t16 * t51;
  t57 = t44 * (t30 * t32 + t39 * t40 + param.MX2) - t23 * t47 + t15 * t49 - t28 * t46 * (t52 + param.MX4) - t46 * param.MYR2 - param.MX1;
  t58 = q(1);
  t59 = cos(t58);
  t63 = t14 * t37 + param.MX4 + t52;
  t64 = t23 * t63;
  t68 = t64 + t28 * (t10 * t35 - param.MYR4 - t25) + param.MX3;
  t71 = sin(t58);
  t74 = sin(param.roll);
  t76 = cos(param.pitch);
  t78 = sin(param.pitch);
  t81 = t12 * t16 + t14 * t51 - param.MYR3;
  m(1,1) = -(t76 * t74 * (t59 * t57 + t71 * (t32 * t39 + t40 * t68 + param.MY1 + param.MZ2)) + (t59 * (t30 * t40 + t32 * t81 - param.MY1 - param.MZ2) + t57 * t71) * t78) * param.g;
  t94 = cos(param.roll);
  t101 = t19 * t40;
  t102 = t14 * t101;
  t103 = t16 * t40;
  t104 = t9 * t103;
  t107 = t16 * (-t11 + param.MX5) * t40;
  t108 = param.MYR3 * t40;
  t109 = -t102 + t104 + t107 - t108 - param.MX2;
  m(1,2) = (t76 * (t46 * (-t32 * t68 * t71 * t74 - t109 * t71 * t74 - t23 * t27 * t94 - t28 * t63 * t94 - param.MYR2 * t94) - (-t23 * t27 * t71 * t74 - t28 * t63 * t71 * t74 - param.MYR2 * t71 * t74 + t32 * t68 * t94 + t109 * t94) * t44) + (t46 * (t32 * t68 - param.MX2 - t102 + t104 + t107 - t108) - t44 * (t23 * t27 + t28 * t63 + param.MYR2)) * t78 * t59) * param.g;
  t149 = t64 - t28 * t25 + param.MX7 * t28 * t10 * t4 + t28 * (t10 * (-t7 - param.MX6) - param.MYR4) + param.MX3;
  t158 = t71 * t81;
  m(1,3) = (t76 * (t40 * (t74 * (-t149 * t44 * t71 + t59 * t81) + t149 * t94 * t46) + t32 * (t74 * (t149 * t59 + t158 * t44) - t94 * t46 * t81)) + t78 * (t40 * (t149 * t44 * t59 + t158) + (-t44 * t59 * t81 + t149 * t71) * t32)) * param.g;
  t184 = t15 + param.MY7 * t4 * t16 + t16 * (t17 - param.MYR5) - param.MX4;
  t185 = t184 * t40;
  t187 = t32 * t184;
  t189 = t187 * t44 - t47;
  t204 = t27 * t32 * t44 + t184 * t46;
  m(1,4) = -(t76 * (t28 * (t74 * (-t185 * t59 - t189 * t71) + t94 * (t187 * t46 + t27 * t44)) + t23 * (t74 * (t27 * t40 * t59 + t204 * t71) + t94 * (-t27 * t32 * t46 + t184 * t44))) + (t28 * (-t185 * t71 + t189 * t59) - t23 * (-t27 * t40 * t71 + t204 * t59)) * t78) * param.g;
  t231 = t40 * t12;
  t232 = t23 * t231;
  t237 = t12 * t23 * t32 + t101;
  t239 = t28 * t12;
  t241 = t237 * t44 + t239 * t46;
  t254 = t19 * t23 * t40 + t12 * t32;
  t258 = -t19 * t23 * t32 + t231;
  t261 = -t19 * t49 + t258 * t44;
  m(1,5) = -((t16 * (t74 * (t59 * (t19 * t32 - t232) - t241 * t71) - (-t237 * t46 + t239 * t44) * t94) + t14 * (t74 * (t254 * t59 - t261 * t71) + (t19 * t28 * t44 + t258 * t46) * t94)) * t76 + ((t59 * t241 - (t32 * t51 + t232) * t71) * t16 + (t254 * t71 + t261 * t59) * t14) * t78) * param.g;
  t293 = t14 * t23 * t35 - param.MYR6 * t28;
  t295 = -t16 * t32 * t35 - t293 * t40;
  t299 = -t103 * t35 + t293 * t32;
  t304 = t14 * t28 * t35 + param.MYR6 * t23;
  t306 = t299 * t44 + t304 * t46;
  t318 = t14 * param.MYR6;
  t321 = t23 * t318 + t28 * t35;
  t323 = param.MYR6 * t16 * t32 + t321 * t40;
  t328 = -param.MYR6 * t16 * t40 + t32 * t321;
  t332 = t23 * t35 - t28 * t318;
  t334 = t328 * t44 - t332 * t46;
  m(1,6) = (t76 * (t10 * (t74 * (t295 * t59 - t306 * t71) - (-t299 * t46 + t304 * t44) * t94) + t2 * (t74 * (t323 * t59 + t334 * t71) - (t328 * t46 + t332 * t44) * t94)) + (t10 * (t295 * t71 + t306 * t59) - (-t323 * t71 + t334 * t59) * t2) * t78) * param.g;
  t361 = -param.MY7 * t16 * t2 + param.MX7 * t14;
  t363 = t14 * t2;
  t366 = param.MX7 * t16 + param.MY7 * t363;
  t370 = param.MY7 * t10 * t28 + t23 * t366;
  t371 = t370 * t40;
  t375 = -t361;
  t377 = t32 * t370 - t375 * t40;
  t382 = param.MY7 * t10 * t23 - t28 * t366;
  t384 = t377 * t44 - t382 * t46;
  t397 = param.MX7 * t16 * t2 + param.MY7 * t14;
  t401 = -param.MX7 * t363 + param.MY7 * t16;
  t405 = -param.MX7 * t10 * t28 + t23 * t401;
  t407 = t32 * t397 - t40 * t405;
  t411 = t32 * t405 + t397 * t40;
  t416 = param.MX7 * t10 * t23 + t28 * t401;
  t418 = t411 * t44 + t416 * t46;
  m(1,7) = (t76 * (t4 * (t74 * (t59 * (t32 * t361 - t371) - t71 * t384) + (t377 * t46 + t382 * t44) * t94) - (t74 * (t407 * t59 - t418 * t71) - t94 * (-t411 * t46 + t416 * t44)) * t6) + t78 * (t4 * (t59 * t384 - t71 * (t32 * t375 + t371)) - (t407 * t71 + t418 * t59) * t6)) * param.g;
  tmpreturn = m';
