function tmpreturn = hom_transform_endeffector(q, param)
  m = [0 0 0 0; 0 0 0 0; 0 0 0 0; 0 0 0 0;];
  t1 = q(5);
  t2 = cos(t1);
  t3 = q(6);
  t4 = cos(t3);
  t5 = t4 * t2;
  t6 = q(4);
  t7 = sin(t6);
  t9 = cos(t6);
  t10 = sin(t3);
  t12 = -t10 * t9 + t5 * t7;
  t13 = q(2);
  t14 = cos(t13);
  t16 = sin(t13);
  t17 = t2 * t9;
  t20 = t10 * t7 + t17 * t4;
  t21 = q(3);
  t22 = cos(t21);
  t24 = sin(t21);
  t25 = t24 * t4;
  t26 = sin(t1);
  t28 = t20 * t22 - t25 * t26;
  t29 = t28 * t16;
  t31 = cos(param.roll);
  t33 = q(1);
  t34 = sin(t33);
  t36 = t14 * t28 * t34;
  t37 = cos(t33);
  t38 = t22 * t37;
  t40 = t26 * t4 * t38;
  t41 = t2 * t37;
  t43 = t16 * t34;
  t45 = -t10 * t43 + t25 * t41;
  t47 = t34 * t4;
  t48 = t2 * t16;
  t50 = t24 * t37;
  t53 = (t50 * t10 + t47 * t48) * t7;
  t54 = t45 * t9 + t36 + t40 + t53;
  t55 = sin(param.roll);
  t56 = t55 * t54;
  t58 = sin(param.pitch);
  t62 = t26 * t22;
  t64 = t24 * t34;
  t66 = t16 * t37;
  t76 = cos(param.pitch);
  t77 = t76 * (t14 * t28 * t37 - t62 * t47 + t9 * (-t10 * t66 - t5 * t64) + (t16 * t4 * t41 - t10 * t64) * t7);
  t79 = q(7);
  t80 = cos(t79);
  t84 = t9 * t22;
  t87 = t2 * t24 + t26 * t84;
  t89 = t14 * t26 * t7 - t16 * t87;
  t90 = t31 * t89;
  t94 = t24 * t9;
  t97 = t37 * t94 + t43 * t7;
  t99 = -t14 * t34 * t87 + t2 * t38 - t26 * t97;
  t105 = t34 * t2;
  t110 = -t24 * t34 * t9 + t66 * t7;
  t114 = t58 * (-t55 * t99 + t90) + t76 * (t14 * t37 * t87 + t105 * t22 + t110 * t26);
  t115 = sin(t79);
  t117 = t80 * (t58 * (t31 * (t12 * t14 - t29) + t56) + t77) - t114 * t115;
  t118 = cos(param.yaw);
  t120 = sin(param.yaw);
  t122 = -t12;
  t124 = t122 * t14 + t29;
  t125 = t55 * t124;
  t130 = t31 * t99 + t55 * t89;
  t132 = t80 * (t31 * t54 + t125) + t115 * t130;
  m(1,1) = t118 * t117 - t120 * t132;
  t134 = t31 * t124;
  t140 = t115 * (t58 * (t134 - t56) - t77) - t80 * t114;
  t149 = t115 * (t31 * (-t45 * t9 - t36 - t40 - t53) - t125) + t80 * t130;
  m(1,2) = t118 * t140 - t120 * t149;
  t151 = t2 * t14;
  t155 = t2 * t84 - t24 * t26;
  t157 = t151 * t7 - t155 * t16;
  t158 = t31 * t157;
  t160 = t14 * t155 * t34;
  t163 = t2 * t97 + t26 * t38 + t160;
  t168 = t14 * t155 * t37;
  t179 = -t16 * t22 * t7 - t14 * t9;
  t181 = t22 * t14;
  t185 = t37 * t7 * t24;
  t187 = t181 * t34 * t7 - t43 * t9 + t185;
  t191 = t14 * t37;
  t195 = t7 * t64;
  t200 = t10 * (t58 * (t163 * t55 + t158) + (-t22 * t26 * t34 + t110 * t2 + t168) * t76) - (t58 * (t179 * t31 + t187 * t55) + (t191 * t22 * t7 - t66 * t9 - t195) * t76) * t4;
  t207 = -t179;
  t211 = t10 * (-t157 * t55 + t163 * t31) - t4 * (t187 * t31 + t207 * t55);
  m(1,3) = t118 * t200 - t120 * t211;
  t213 = param.d7 + param.d8;
  t217 = t213 * t4 + param.d5 + param.d6;
  t222 = t213 * t16;
  t226 = t217 * t9 + param.d3 + param.d4;
  t227 = t14 * t226;
  t228 = t7 * (t10 * t151 * t213 + t16 * t217 * t22) - t10 * t155 * t222 + t227 + param.d1 + param.d2;
  t230 = t10 * t222;
  t234 = t14 * t22 * t34 + t50;
  t239 = t17 * t24 + t62;
  t240 = t37 * t239;
  t241 = t240 + t160;
  t244 = t16 * t226;
  t246 = t7 * (t105 * t230 - t217 * t234) + t10 * t241 * t213 + t34 * t244;
  t254 = t230 * t41 - t217 * (t191 * t22 - t64);
  t256 = t239 * t34;
  t257 = t168 - t256;
  t263 = t58 * (t228 * t31 + t246 * t55) + t76 * (t10 * t213 * t257 + t244 * t37 + t254 * t7);
  m(1,4) = t120 * t228 * t55 - t120 * t246 * t31 + t118 * t263 + param.dw0x;
  m(2,1) = t117 * t120 + t118 * t132;
  m(2,2) = t118 * t149 + t120 * t140;
  m(2,3) = t118 * t211 + t120 * t200;
  m(2,4) = -t118 * t228 * t55 + t118 * t246 * t31 + t120 * t263 + param.dw0y;
  t283 = t22 * t26 * t4 + t20 * t24;
  t287 = -t122 * t16 + t14 * t28;
  t288 = t34 * t287;
  t295 = t2 * t22 - t26 * t94;
  t300 = t16 * t26 * t7 + t14 * t87;
  t304 = t55 * (t295 * t37 - t300 * t34) - t90;
  t310 = -t283 * t34 + t287 * t37;
  t314 = t295 * t34 + t300 * t37;
  m(3,1) = t76 * (t80 * (t55 * (t283 * t37 + t288) - t134) + t304 * t115) - t58 * (-t115 * t314 + t310 * t80);
  m(3,2) = t76 * (t115 * (t55 * (-t283 * t37 - t288) + t134) + t304 * t80) + t58 * (t115 * t310 + t314 * t80);
  t333 = t14 * t155 + t48 * t7;
  t341 = -t16 * t9 + t181 * t7;
  m(3,3) = t76 * (t10 * (t55 * (t333 * t34 + t240) + t158) - t4 * (t55 * (t34 * t341 + t185) - t207 * t31)) - t58 * (t10 * (t333 * t37 - t256) - (t341 * t37 - t195) * t4);
  t365 = t31 * t16;
  m(3,4) = t76 * (t7 * (t10 * (t14 * t31 + t43 * t55) * t213 * t2 - t217 * (-t22 * t365 + t234 * t55)) + t10 * t213 * (-t155 * t365 + t241 * t55) + t55 * t226 * t43 + (t227 + param.d1 + param.d2) * t31) - t7 * t254 * t58 - t10 * t257 * t213 * t58 - t58 * t226 * t66 + param.dw0z;
  m(4,1) = 0.0e0;
  m(4,2) = 0.0e0;
  m(4,3) = 0.0e0;
  m(4,4) = 0.1e1;
  tmpreturn = m;
